<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
		<title>Memory DB test</title>

		<script type="text/javascript" src="memoryDB.js"></script>
		<script type="text/javascript" src="memoryDB_IIFE.js"></script>
		<script  type="text/javascript" >
		
			memorydb.newTable("book");
			memorydb.newTable("bookshelf");
		
			for (var i = 0; i <= 1000; i++) {
				memorydb.book.insert({
					name : "foo" + i % 500,
					editor : "bar" + i % 44,
					index : {
						foo1 : i,
					},
					bookshelf : i % 20,
					publishDate : new Date().toString(),
				})
			}
			
			for (var i = 0; i <= 10; i++) {
				memorydb.bookshelf.insert({
					name : "bookshelf" + i,
					bookshelfID : i,
				})
			}
			
	

			var foo1 = memorydb.book.query({
				name : "foo1",
				editor : "bar1"
			});
			
			console.log(memorydb.book.getAll());
			console.log(memorydb.book.getCounter());
			console.log(foo1);
			
			console.log(memorydb.bookshelf.getAll());
			console.log(memorydb.bookshelf.getCounter());
			
		</script>
	</head>
	<body>
		<div>
			Please open your javascript console to see test results
		</div>
	</body>
</html>